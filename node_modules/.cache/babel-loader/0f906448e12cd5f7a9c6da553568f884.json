{"ast":null,"code":"import _slicedToArray from \"/home/valentin/Documents/LPDWEB/react/battlecat/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/valentin/Documents/LPDWEB/react/battlecat/src/components/pages/CatDetail.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Switch, Route, Redirect, Link } from 'react-router-dom';\nimport axios from \"axios\";\n\nconst CatDetail = props => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        catDetails = _useState2[0],\n        setCatDetails = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        redirect = _useState4[0],\n        setRedirect = _useState4[1];\n\n  const headers = {\n    'x-api-key': '80ad793a-81c0-4987-a01a-cdf448c1b68d'\n  };\n  useEffect(() => {\n    axios.get(\"http://battlecat.stark.mmi-unistra.fr/cats/\" + props.match.params.cat).then(response => {\n      setCatDetails(response.data[0]);\n    });\n  }, []);\n\n  const renderRedirect = () => {\n    if (redirect) {\n      return React.createElement(Redirect, {\n        to: \"/team\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      });\n    }\n  };\n\n  const releaseCat = event => {\n    event.preventDefault();\n    axios.delete(\"http://battlecat.stark.mmi-unistra.fr/cats/\" + props.match.params.cat);\n    setRedirect(true);\n  };\n\n  const DisplayDetails = () => {\n    let date_summoned = new Date(catDetails.date_summoned);\n    console.log(date_summoned.getFullYear());\n\n    if (catDetails.name) {\n      return React.createElement(\"div\", {\n        className: \"catDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, catDetails.name, \" (\", catDetails.breed, \")\"), React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Invoqu\\xE9 le \", date_summoned.getDay(), \"/\", date_summoned.getMonth(), \"/\", date_summoned.getFullYear()), React.createElement(\"div\", {\n        className: \"catDescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: catDetails.image_url,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Force : \", catDetails.strength), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Vie : \", catDetails.hp_max))), React.createElement(\"button\", {\n        onClick: releaseCat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Relacher le chat\"));\n    } else {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Chargement...\");\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, renderRedirect(), React.createElement(DisplayDetails, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }));\n};\n\nexport default CatDetail;","map":{"version":3,"sources":["/home/valentin/Documents/LPDWEB/react/battlecat/src/components/pages/CatDetail.js"],"names":["React","useEffect","useState","Switch","Route","Redirect","Link","axios","CatDetail","props","catDetails","setCatDetails","redirect","setRedirect","headers","get","match","params","cat","then","response","data","renderRedirect","releaseCat","event","preventDefault","delete","DisplayDetails","date_summoned","Date","console","log","getFullYear","name","breed","getDay","getMonth","image_url","strength","hp_max"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { Switch, Route, Redirect, Link } from 'react-router-dom';\n\nimport axios from \"axios\";\n\nconst CatDetail = (props) => {\n\n  const [catDetails, setCatDetails] = useState({});\n  const [redirect, setRedirect] = useState(false);\n\n  const headers = {\n    'x-api-key': '80ad793a-81c0-4987-a01a-cdf448c1b68d'\n  }\n\n  useEffect(() => {\n    axios.get(\"http://battlecat.stark.mmi-unistra.fr/cats/\" + props.match.params.cat).then(response => {\n      setCatDetails(response.data[0])\n    });\n  }, []);\n\n  const renderRedirect = () => {\n    if (redirect) {\n      return <Redirect to='/team' />\n    }\n  }\n\n  const releaseCat = (event) => {\n    event.preventDefault();\n\n    axios.delete(\"http://battlecat.stark.mmi-unistra.fr/cats/\" + props.match.params.cat);\n    setRedirect(true)\n\n  }\n  \n  const DisplayDetails = () => {\n    let date_summoned = new Date(catDetails.date_summoned);\n    console.log(date_summoned.getFullYear());\n    if (catDetails.name) {\n      return (\n        <div className = \"catDetails\">\n          <h2>{catDetails.name} ({catDetails.breed})</h2>\n          <em>Invoqu√© le {date_summoned.getDay()}/{date_summoned.getMonth()}/{date_summoned.getFullYear()}</em>\n          <div className=\"catDescription\">\n            <img src={catDetails.image_url} alt=\"\"></img>\n            \n            <ul>\n              <li>Force : {catDetails.strength}</li>\n              <li>Vie : {catDetails.hp_max}</li>\n            </ul>\n          </div>\n          \n\n          <button onClick={releaseCat}>Relacher le chat</button>\n\n        </div>\n      );\n    } else {\n      return (<p>Chargement...</p>)\n    }\n  }\n\n  return (\n    <div>\n      {renderRedirect()}\n      <DisplayDetails />\n    </div>\n  );\n}\n\nexport default CatDetail;\n"]},"metadata":{},"sourceType":"module"}